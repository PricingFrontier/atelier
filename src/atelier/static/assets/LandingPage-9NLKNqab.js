import{i as e,l as t,n,o as r,t as i}from"./index-CFlZVlLU.js";import{n as a,r as o,s,t as c}from"./PageBackground-B0v-bmtC.js";import{n as l,t as u}from"./git-branch-DGuLWD4q.js";import{t as d}from"./clock-B6qmGUEk.js";var f=s(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),p=s(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),m=t(r(),1),h=i(),g=`LandingPage`;function _(){let t=e(),[r,i]=(0,m.useState)([]);n.info(g,`render`),(0,m.useEffect)(()=>{n.info(g,`mount — fetching projects`),o(`/projects`).then(e=>{n.info(g,`fetched ${e.length} projects`,e.map(e=>({id:e.id,name:e.name}))),i(e)}).catch(e=>n.error(g,`fetch projects FAILED`,e))},[]),(0,m.useEffect)(()=>{function e(e){let n=e.target?.tagName;n===`INPUT`||n===`TEXTAREA`||n===`SELECT`||(e.key===`n`||e.key===`N`)&&t(`/new`)}return window.addEventListener(`keydown`,e),()=>window.removeEventListener(`keydown`,e)},[t]);let s=async e=>{n.info(g,`loadProject id=${e.id} name="${e.name}"`);try{let r=(await o(`/projects/${e.id}`)).config;if(!r){n.warn(g,`project ${e.id} has no config — aborting load`);return}n.info(g,`project config loaded — response=${r.response} family=${r.family} cols=${(r.columns??[]).length}`),t(`/model`,{state:{projectId:e.id,projectName:e.name,response:r.response??``,family:r.family??`poisson`,link:r.link??null,offset:r.offset??null,weights:r.weights??null,columns:r.columns??[],datasetPath:r.dataset_path??null,split:r.split??null}}),n.info(g,`navigated to /model for project ${e.id}`)}catch(t){n.error(g,`loadProject FAILED for id=${e.id}`,t)}},_=async e=>{n.info(g,`deleteProject id=${e}`);try{await a(`/projects/${e}`),n.info(g,`deleted project ${e}`),i(t=>t.filter(t=>t.id!==e))}catch(t){n.error(g,`deleteProject FAILED for id=${e}`,t)}};return(0,h.jsxs)(`div`,{className:`relative flex min-h-screen items-center justify-center overflow-hidden bg-background`,children:[(0,h.jsx)(c,{gridOpacity:.15,gridMask:`radial-gradient(ellipse 60% 50% at 50% 50%, black 20%, transparent 100%)`}),(0,h.jsxs)(`div`,{className:`relative z-10 text-center`,children:[(0,h.jsx)(`h1`,{className:`bg-gradient-to-br from-foreground to-muted-foreground bg-clip-text text-[4rem] font-extralight uppercase tracking-[0.3em] text-transparent`,style:{animation:`fadeUp 1s ease-out both`},children:`Atelier`}),(0,h.jsx)(`p`,{className:`animate-[fadeUp_0.8s_ease-out_0.2s_both] text-sm uppercase tracking-[0.2em] text-muted-foreground`,children:`Generalized Linear Model Workbench`}),(0,h.jsx)(`div`,{className:`mt-14 flex justify-center gap-3.5 animate-[fadeUp_0.8s_ease-out_0.4s_both]`,children:(0,h.jsxs)(`button`,{onClick:()=>t(`/new`),className:`group relative flex items-center gap-2.5 overflow-hidden rounded-[0.625rem] border border-border bg-card px-6 py-3 text-sm font-medium text-muted-foreground transition-all duration-200 hover:-translate-y-0.5 hover:border-border hover:text-foreground hover:bg-surface-active`,children:[(0,h.jsx)(f,{className:`h-[18px] w-[18px] opacity-50 transition-opacity group-hover:opacity-80`}),`New Model`,(0,h.jsx)(`kbd`,{className:`ml-1 rounded bg-secondary px-1.5 py-0.5 text-[0.65rem] font-normal text-muted-foreground/60 border border-border transition-colors group-hover:text-muted-foreground`,children:`N`})]})}),r.length>0&&(0,h.jsxs)(`div`,{className:`mt-10 animate-[fadeUp_0.8s_ease-out_0.6s_both]`,children:[(0,h.jsx)(`p`,{className:`mb-4 text-[0.65rem] uppercase tracking-[0.15em] text-muted-foreground/60`,children:`Recent Projects`}),(0,h.jsx)(`div`,{className:`flex flex-col items-center gap-2`,children:r.map((e,t)=>(0,h.jsxs)(`div`,{onClick:()=>s(e),className:`group flex w-[400px] cursor-pointer items-center gap-3 rounded-xl border border-border bg-card px-4 py-3 text-left transition-all hover:border-border hover:bg-surface-hover`,style:{animation:`fadeUp 0.4s ease-out ${.7+t*.08}s both`},children:[(0,h.jsx)(`div`,{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-primary/10 text-primary`,children:(0,h.jsx)(u,{className:`h-4 w-4`})}),(0,h.jsxs)(`div`,{className:`flex-1 overflow-hidden`,children:[(0,h.jsx)(`p`,{className:`truncate text-sm font-medium text-foreground/80 group-hover:text-foreground`,children:e.name}),(0,h.jsxs)(`div`,{className:`flex items-center gap-2 text-[0.65rem] text-muted-foreground/60`,children:[e.response&&(0,h.jsx)(`span`,{children:e.response}),e.family&&(0,h.jsxs)(`span`,{children:[`· `,e.family]}),(0,h.jsxs)(`span`,{children:[`· `,e.n_versions,` version`,e.n_versions===1?``:`s`]}),(0,h.jsxs)(`span`,{className:`flex items-center gap-1`,children:[(0,h.jsx)(d,{className:`h-3 w-3`}),new Date(e.updated_at).toLocaleDateString()]})]})]}),(0,h.jsx)(`button`,{onClick:t=>{t.stopPropagation(),_(e.id)},className:`rounded-lg p-1.5 text-muted-foreground/40 opacity-0 transition-all hover:bg-red-500/10 hover:text-red-400 group-hover:opacity-100`,title:`Delete project`,children:(0,h.jsx)(p,{className:`h-3.5 w-3.5`})}),(0,h.jsx)(l,{className:`h-4 w-4 text-muted-foreground/40 transition-all group-hover:translate-x-0.5 group-hover:text-muted-foreground`})]},e.id))})]})]}),(0,h.jsx)(`div`,{className:`fixed bottom-0 left-0 right-0 z-10 flex items-center justify-center gap-6 p-5 animate-[fadeIn_0.8s_ease-out_0.8s_both]`,children:(0,h.jsxs)(`span`,{className:`text-[0.7rem] tracking-wider text-muted-foreground/60`,children:[`Powered by `,(0,h.jsx)(`span`,{className:`font-medium text-muted-foreground`,children:`Pricing Frontier`})]})})]})}export{_ as default};